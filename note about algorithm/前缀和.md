### 以下用来探讨对 前缀和 的一些理解 仅供参考

前缀和一般在题目中起到处理数据以降低查询数据所需要的时间复杂度,但是也有其适用范围
>1.所需的是多个区间内所有数据的和
>2.数据本身查询次数大于变化次数

例题:
[P1314 质检员](https://www.luogu.com.cn/problem/P1314)

**思路**
例如有一个数组
```cpp
w[]={1,2,0,4,0,6,0,8,0,10}
```
我需要得到区间$[1,5]$$[2,4]$和$[3,3]$中所有数字的和,那么我可以创建一个新的前缀和数组来储存数据
```cpp
#include <utility>//pair在utility中
pair<int,int>interval[3]={[1,5],[2,4],[3,3]}
int preN[11];
int preW[11];
for(int i=1;i<11;i++>)
{
    if(w[i])
    {
        preN[11] = preN[i-1]+1;
        preW[i]=preW[i-1]+w[i];
    }
    else
    {
        preN[i]=preN[i-1]
        preW[i] = preW[i-1];
    }
}
```
这样就得到了新的前缀和数组
```cpp
preN[11]={0,1,2,2,3,3,4,4,5,5,6};
preW[11]={0,1,3,3,7,7,13,13,21,21,31};
```
容易看出数组```preN```可以用来记录数据不为0的个数,数组```preW```可以用来记录数据不为0的加和

而我们要如何得到某个区间内的加和呢?
简单 我们只需要在数组```preW```中访问区间的尾头相减就好了
```cpp
int sum=0;
for(int i=0;i<3;i++)
{
    sum+=(preW[interval[i].second])-(preW[interval[i].first-1]);
}
```
可以观察到 是在区间$[a,b]$中是用的```preW[b]-preW[a-1]```将区间的左端点向左移动一格能够确保不会讲左端点减去而是减去除左端点外的区域
